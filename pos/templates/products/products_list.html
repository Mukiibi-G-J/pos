{% extends 'base/base.html' %} {% block content %}
{% load widget_tweaks %}
{% load humanize %}
{% load static %}


<div class="content-page">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <div
          class="d-flex flex-wrap flex-wrap align-items-center justify-content-between mb-4"
        >
          {% comment %} <div>
            <h4 class="mb-3">Product List</h4>
            <p class="mb-0">
              The product list effectively dictates product presentation and
              provides space<br />
              to list your products and offering in the most appealing way.
            </p>
          </div> {% endcomment %}
          <button type="button" class="btn btn-primary mt-2" data-toggle="modal" data-target="#exampleModalCenter">
           Add Products
            </button>
        </div>
      </div>
      <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
           <div class="modal-content">
              <div class="modal-header">
                 <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
                 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
                 </button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="form-row mt-4">
                    <div class="col">
                      {% render_field   products_form.product_name class="form-control" %}
                    </div>
                    <div class="col">
                      {% render_field  products_form.unit_id class="form-control"  %}
                    
                    </div>
                 </div>
                  <div class="form-row mt-4 ">
                    <div class="col">
                      {% render_field   products_form.category_id class="form-control" %}
                    </div>
                    <div class="col">
                      {% render_field  products_form.brand class="form-control" %}
                    </div>
                 </div>
                 <div class="form-row mt-4">
                  <div class="col">
                    {% render_field   products_form.unit_price  class="form-control" %}
                  </div>
                  <div class="col">
                    {% render_field  products_form.cost class="form-control" %}
                  </div>
               </div>
               <div class="form-row mt-4">
                <div class="col">
                  {% render_field products_form.reorder_level  class="form-control"  %}
                </div>
                
             </div>
               </form>
              </div>
              <div class="modal-footer">
                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                 <button type="button" class="btn btn-primary">Save changes</button>
              </div>
           </div>
        </div>
     </div>
      
      <div class="col-lg-12">
        <div class="table-responsive rounded mb-3">
          <table class="data-table table mb-0 tbl-server-info">
            <thead class="bg-white text-uppercase">
              <tr class="ligth ligth-data">
                <th>
                  <div class="checkbox d-inline-block">
                    <input
                      type="checkbox"
                      class="checkbox-input"
                      id="checkbox1"
                    />
                    <label for="checkbox1" class="mb-0"></label>
                  </div>
                </th>
                <th>Product</th>
                <th>Code</th>
                {% comment %} <th>Product</th> {% endcomment %}
                <th>Category</th>
                <th>Brand Name</th>
                <th>Cost</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody class="ligth-body">
              {% for product in products %}

              <tr>
                 <td>
                  <div class="checkbox d-inline-block">
                    <input
                      type="checkbox"
                      class="checkbox-input"
                      id="checkbox2"
                    />
                    <label for="checkbox2" class="mb-0"></label>
                  </div>
                </td> 
               <td>
      
                  <div class="d-flex align-items-center flex-column">
                    <div>
                      {{ product.product_name}}
                      {% comment %} <p class="mb-0"><small>This is test Product</small></p> {% endcomment %}
                    </div>
                  <a href={{ product.product_image.url }} target="_blank">
                    <img
                      src="{{ product.product_image.url }}"
                      class="img-fluid rounded avatar-50 mr-3"
                      alt="image"
                    />
                  </a>
                    
                  </div>
                </td> 
                <td>{{ product.product_code }}</td>

                {% comment %} <td>{{ product.product_name}}</td> {% endcomment %}
                <td> {{ product.category_id.category_name }}
                  <td> {{ product.brand.brand_name }}</td>
              
                <td>{{ product.unit_price|floatformat:"0"|intcomma }} </td>
                <td>{{ product.cost|floatformat:"0"|intcomma }} </td>
                  {% if product.quantity_in_stock < product.reorder_level %}
                <td class="text-danger">{{ product.quantity_in_stock}}</td>
                {% else %}
                <td>{{ product.quantity_in_stock}}</td>
                {% endif %}
             
                <td>
                  <div class="d-flex align-items-center list-action">
                    <a
                      class="badge badge-info mr-2"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=""
                      data-original-title="View"
                      href="#"
                      ><i class="ri-eye-line mr-0"></i
                    ></a>
                    <a
                      class="badge bg-success mr-2"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=""
                      data-original-title="Edit"
                      href="#"
                      ><i class="ri-pencil-line mr-0"></i
                    ></a>
                    <a
                      class="badge bg-warning mr-2"
                      data-toggle="tooltip"
                      data-placement="top"
                      title=""
                      data-original-title="Delete"
                      href="#"
                      ><i class="ri-delete-bin-line mr-0"></i
                    ></a>
                  </div>
                </td>
              </tr>

              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- Page end  -->
  </div>
</div>

{% endblock content %}
